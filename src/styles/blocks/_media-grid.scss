.block-media-grid {
  position: relative;
  width: 100%;

  display: grid;

  row-gap: 2rem;
  column-gap: 2rem;
  gap: clamp(1.5rem, 2.22vw, 2rem);

  @include breakpoint("sm") {
    row-gap: 1.5rem;
    column-gap: 1.5rem;
    gap: clamp(1.5rem, 2.22vw, 2rem);
  }

  &__wrapper {
    position: relative;

    display: flex;
    align-items: center;
    justify-content: center;

    padding: clamp(1rem, 4.44vw, 4rem);
  }

  .block-media-grid__wrapper:nth-child(1),
  .block-media-grid__wrapper:nth-child(2) {
    max-height: 40.5vw;

    .gatsby-image picture {
      padding-top: min(calc((var(--ratio) * 100%)), calc(40.5vw - 8rem));

      .gatsby-image__image {
        margin: auto;
      }
    }

    @include breakpoint("sm") {
      max-height: unset;

      .gatsby-image picture {
        padding-top: 100%;
      }
    }
  }

  .block-media-grid__wrapper:nth-child(3) {
    max-height: 83.3vw;

    .gatsby-image {
      height: auto;

      picture {
        padding-top: min(calc((var(--ratio) * 100%)), calc(83.3vw - 8rem));

        .gatsby-image__image {
          margin: auto;
        }
      }
    }

    @include breakpoint("sm") {
      max-height: unset;

      .gatsby-image picture {
        padding-top: 150%;
      }
    }
  }

  &.style-1 {
    grid-template-columns: repeat(3, 1fr);

    @include breakpoint("sm") {
      grid-template-columns: repeat(1, 1fr);
    }

    .block-media-grid__wrapper:nth-child(1),
    .block-media-grid__wrapper:nth-child(2) {
      grid-column: 1 / span 1;
      aspect-ratio: 1 / 1;

      @include breakpoint("sm") {
        grid-column: 1 / -1;
      }
    }

    .block-media-grid__wrapper:nth-child(3) {
      grid-column: 2 / span 2;
      grid-row: 1 / span 2;
      aspect-ratio: 1 / 1;

      @include breakpoint("sm") {
        grid-column: 1 / -1;
        grid-row: 3;
      }
    }
  }

  &.style-2 {
    grid-template-columns: repeat(2, 1fr);

    @include breakpoint("sm") {
      grid-template-columns: repeat(1, 1fr);
    }

    .block-media-grid__wrapper:nth-child(1),
    .block-media-grid__wrapper:nth-child(2) {
      grid-column: 1 / span 1;
      aspect-ratio: 1 / 1;

      @include breakpoint("sm") {
        grid-column: 1 / -1;
      }
    }

    .block-media-grid__wrapper:nth-child(3) {
      height: 100%;

      grid-column: 2 / span 1;
      grid-row: 1 / span 2;

      aspect-ratio: 1 / 2;

      // padding: 0 clamp(0rem, 5.55vw, 5rem);

      @include breakpoint("sm") {
        grid-column: 1 / -1;
        padding: 0;

        grid-row: 3;
      }
    }
  }
}
